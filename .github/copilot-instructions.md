- Look for AGENTS.md on the projects and update it with relevant context history.
- Look for TODO.md on the projects and update it with relevant context history.
- Update your suggestions on TODO.md tasks.
- USE .NET 9.0 and C# 13 features.
- Follow existing coding style and conventions in the codebase.
- Run formatting tools 
- Write clear, maintainable, and well-documented code.
- Build before testing (use one command dotnet build ...; dotnet test ...).
- Do NOT modify generated files directly. These files will include a marker such as a header comment with `// <auto-generated/>` or files using the pattern `<generated>` in the name. Treat those as read-only.
- Prefer immutability and `readonly` fields where meaningful.
- Split large methods in smaller helper methods for clarity.
- Never commit to git.
- Do NOT use @" strings.
- Changes in doc (.md files) doesn't require compile and test.
- When you find something difficult, ask the operator for clarification.

Source generation style guidelines
-----------------------------------
When building multi-line code snippets for source generators:
1. Use raw interpolated string literals in block format:
   ```csharp
   srcBuilder.Append($$"""
       {{variable}}.MethodCall();
       
       """);
   ```
2. Generate snippets WITHOUT embedded indentation (no leading spaces inside the raw string).
3. Apply indentation at template inclusion time using `.FixIndent(levels)` where `levels` is the number of indentation levels (4 spaces per level):
   ```csharp
   var source = $$"""
      namespace {{ns}}
      {
         {{srcBuilder.FixIndent(1)}} // 1 level == 4 spaces
      }
      """;
   ```
4. The `FixIndent` extension normalizes line endings and prefixes non-empty lines with the specified indentation (levels * 4 spaces).

AI agent verification checklist
------------------------------
1. Environment & SDK check
   - Ensure `dotnet --list-sdks` includes .NET 9.0 or above.
   - Abort if no supported SDK is detected.

2. Build & test
   - Run `dotnet build && dotnet test` and fail if there are build/test errors.

3. Sanitization & security
   - Do not interpolate untrusted input into generated source. Always sanitize or validate input.